<!DOCTYPE html>
<html lang="hu">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
      integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N"
      crossorigin="anonymous"
    />

    <title>BMI</title>

    <style>
      .container {
        max-width: 900px;
        height: 800px;
        padding: 10px;
      }
    </style>
  </head>
  <body>
    <div
      class="container border border-primary shadow rounded-pill overflow-hidden p-7"
    >
      <h1 class="text-center text-primary">BMI kalkulátor</h1>
      <div class="jumbotron text-center">
        <h2>20.0</h2>
        <hr />
        <h4>Normál testsúly</h4>
      </div>
      <form>
        <div class="form-group">
          <label for="height">Magasság - cm</label>
          <div class="d-flex p-1">
            <input
              type="range"
              onchange="showValue(this)"
              class="form-control-range"
              id="height"
              min="50"
              max="230"
              value="50"
            />
            <output class="text-primary p-2" name="height">50</output>
          </div>
        </div>

        <div class="form-group">
          <label for="weight">Súly - kg</label>
          <div class="d-flex p-1">
            <input
              type="range"
              onchange="showValue(this)"
              class="form-control-range"
              id="weight"
              min="15"
              max="200"
              value="15"
            />
            <output class="text-primary p-2" name="weight">15</output>
          </div>
        </div>
        <button
          onclick="szamol()"
          type="button"
          class="btn btn-primary btn-lg btn-block mb-4 rounded-pill"
        >
          Szamol
        </button>
      </form>
    </div>

    <script>
      function showValue(obj) {
        console.log(obj.value, obj.id);

        if (obj.id == "height") {
          document.querySelector('output[name="height"]').value = obj.value;
        } else {
          document.querySelector('output[name="weight"]').value = obj.value;
        }
      }
      function szamol() {
        let h =+ document.getElementById('height').value
        let w =+ document.getElementById('weight').value
        console.log(h,w,typeof(h))
        let bmi = w/((h/100)**2)
        console.log(bmi.toFixed(1))
        document.querySelector('h2').innerHTML = bmi.toFixed(1)
        let color
        let h4obj = document.querySelector('h4')
        if(bmi < 18.5){
            h4obj.innerHTML="Soványság 💀"
            h4obj.style.color='green'
        }else if(bmi >= 18.8 && bmi <25 ){
            h4obj.innerHTML="Pacek 😎"
            h4obj.style.color='blue'
        }
        else if(bmi >= 25.2 && bmi <30 ){
            h4obj.innerHTML="Tulsúly 🤔"
            h4obj.style.color='orange'
        }
        else if(bmi >= 30.2 && bmi <=1600 ){
            h4obj.innerHTML="Elhízás 😣"
            h4obj.style.color='red'
        }
      }
    </script>
  </body>
</html>
